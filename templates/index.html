<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Situationship Oracle</title>
  <style>
    body {
      font-family: 'Georgia', serif;
      text-align: center;
      padding: 2rem;
      background: #fdf6f0;
      color: #333;
    }
    h1, h2 {
      color: #9b4dca;
    }
    .oracle-card {
      border: 1px solid #ddd;
      background: #fff;
      padding: 1rem;
      margin: 1rem auto;
      width: 80%;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.05);
    }
    button {
      padding: 1rem 2rem;
      font-size: 1rem;
      background: #9b4dca;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
    input[type="file"] {
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <h1>üîÆ Situationship Oracle</h1>
  <p>Analyze your friends' situationship texts and get paid for your wisdom.</p>

  <form action="/create-oracle-account" method="GET">
    <button>‚ú® Become an Oracle</button>
  </form>

  <h2>Upload screenshots for analysis</h2>
  <p>See what the oracle sees. Drop in screenshots from your text exchanges and receive divine interpretation.</p>
  <form action="/" method="POST" enctype="multipart/form-data">
    <input type="file" name="screenshots" multiple required>
    <br><br>
    <button type="submit">üîç Analyze Screenshot(s)</button>
  </form>

  {% if analysis %}
    <div style="margin-top: 2rem;">
      <h2>üìú Oracle's Reading</h2>
      <pre style="white-space: pre-wrap;">{{ analysis }}</pre>
    </div>
  {% endif %}

  <h2 style="margin-top: 3rem;">üíº Active Oracles</h2>
  {% if oracles %}
    {% for id, data in oracles.items() %}
      <div class="oracle-card">
        <strong>{{ data.name or 'Oracle ' ~ loop.index }}</strong><br/>
        Total earned: ${{ '%.2f' % data.earned }}<br/>
        Platform cut: ${{ '%.2f' % data.platform_cut }}
      </div>
    {% endfor %}
  {% else %}
    <p>No oracles yet ‚Äî be the first!</p>
  {% endif %}
</body>
</html>
